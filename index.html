<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Virtual Books - Livros Crist√£os</title>
  <style>
    :root {
      --primary: #4a6fa5;
      --primary-dark: #35557d;
      --secondary: #f6f5f2;
      --accent: #e6b412;
      --text: #333;
      --white: #fff;
      --light-gray: #f0f0f0;
      --dark-bg: #1a1a2e;
      --dark-text: #f0f0f0;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: "Poppins", sans-serif;
      margin: 0;
      background-color: var(--secondary);
      color: var(--text);
      line-height: 1.6;
      transition: background-color 0.3s, color 0.3s;
    }

    body.dark-mode {
      background-color: var(--dark-bg);
      color: var(--dark-text);
    }

    header {
      background-color: var(--primary);
      color: var(--white);
      padding: 1.5rem;
      text-align: center;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    header h1 {
      margin: 0;
      font-size: 2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    header p {
      margin: 0.3rem 0 0;
      font-style: italic;
      opacity: 0.9;
    }

    nav {
      background-color: var(--primary-dark);
      text-align: center;
      padding: 0.5rem;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    nav a {
      color: var(--white);
      text-decoration: none;
      margin: 0 15px;
      font-weight: bold;
      transition: opacity 0.3s;
    }

    nav a:hover {
      opacity: 0.8;
    }

    .container {
      padding: 2rem;
      max-width: 1100px;
      margin: auto;
    }

    .hero {
      text-align: center;
      padding: 3rem 1rem;
      background: linear-gradient(rgba(74, 111, 165, 0.9), rgba(74, 111, 165, 0.8));
      color: var(--white);
      border-radius: 10px;
      margin-bottom: 2rem;
    }

    .hero h2 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .hero p {
      font-size: 1.2rem;
      max-width: 700px;
      margin: 0 auto;
    }

    .search-section {
      background-color: var(--white);
      padding: 1.5rem;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.08);
      margin-bottom: 2rem;
    }

    .dark-mode .search-section {
      background-color: #252547;
    }

    .search-box {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-bottom: 1rem;
    }

    .search-box input {
      flex: 1;
      min-width: 250px;
      padding: 12px 15px;
      border: 2px solid var(--primary);
      border-radius: 6px;
      font-size: 1rem;
    }

    .dark-mode .search-box input {
      background-color: #333;
      color: var(--dark-text);
      border-color: var(--primary-dark);
    }

    .filters {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
    }

    .filter-btn {
      background: var(--secondary);
      border: 1px solid #ddd;
      padding: 8px 15px;
      border-radius: 20px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .dark-mode .filter-btn {
      background: #333;
      border-color: #444;
      color: var(--dark-text);
    }

    .filter-btn.active {
      background: var(--primary);
      color: var(--white);
      border-color: var(--primary);
    }

    .filter-btn:hover {
      background: var(--primary);
      color: var(--white);
    }

    .books-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
    }

    .book-card {
      background: var(--white);
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
      transition: transform 0.3s, box-shadow 0.3s;
      display: flex;
      flex-direction: column;
    }

    .dark-mode .book-card {
      background-color: #252547;
    }

    .book-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .book-card h3 {
      color: var(--primary);
      margin-top: 0;
      font-size: 1.3rem;
    }

    .dark-mode .book-card h3 {
      color: var(--accent);
    }

    .book-meta {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
      font-size: 0.9rem;
      color: #666;
    }

    .dark-mode .book-meta {
      color: #aaa;
    }

    .book-category {
      background: var(--secondary);
      padding: 3px 10px;
      border-radius: 15px;
      font-size: 0.8rem;
    }

    .dark-mode .book-category {
      background: #333;
    }

    .book-card p {
      flex-grow: 1;
      margin-bottom: 1.5rem;
    }

    footer {
      background-color: var(--primary);
      color: var(--white);
      text-align: center;
      padding: 2rem;
      margin-top: 3rem;
    }

    .btn {
      display: inline-block;
      background-color: var(--primary);
      color: var(--white);
      padding: 0.7rem 1.2rem;
      border-radius: 6px;
      text-decoration: none;
      font-weight: 600;
      transition: background-color 0.3s;
      text-align: center;
      border: none;
      cursor: pointer;
    }

    .btn:hover {
      background-color: var(--primary-dark);
    }

    .btn-accent {
      background-color: var(--accent);
      color: #333;
    }

    .btn-accent:hover {
      background-color: #d4a310;
    }

    .no-results {
      text-align: center;
      padding: 2rem;
      grid-column: 1 / -1;
    }

    .section-title {
      position: relative;
      margin-bottom: 2rem;
      padding-bottom: 0.5rem;
    }

    .section-title:after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 60px;
      height: 3px;
      background: var(--primary);
    }

    .about-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .about-card {
      background: var(--white);
      padding: 1.5rem;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.08);
    }

    .dark-mode .about-card {
      background-color: #252547;
    }

    .about-card h3 {
      color: var(--primary);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .dark-mode .about-card h3 {
      color: var(--accent);
    }

    .contact-form {
      background: var(--white);
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.08);
      margin-top: 1rem;
    }

    .dark-mode .contact-form {
      background-color: #252547;
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 600;
    }

    .form-group input,
    .form-group textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-family: "Poppins", sans-serif;
      font-size: 1rem;
    }

    .dark-mode .form-group input,
    .dark-mode .form-group textarea {
      background-color: #333;
      color: var(--dark-text);
      border-color: #444;
    }

    .form-group textarea {
      min-height: 150px;
      resize: vertical;
    }

    /* Estilos para a p√°gina de leitura */
    .reading-header {
      background-color: var(--primary);
      color: var(--white);
      padding: 1rem 1.5rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    .reading-controls {
      display: flex;
      gap: 10px;
    }

    .book-header {
      text-align: center;
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid #ddd;
    }

    .dark-mode .book-header {
      border-color: #444;
    }

    .book-header h1 {
      color: var(--primary);
      margin-bottom: 0.5rem;
    }

    .dark-mode .book-header h1 {
      color: var(--accent);
    }

    .book-meta-reading {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 1rem;
      flex-wrap: wrap;
    }

    .meta-item {
      display: flex;
      align-items: center;
      gap: 5px;
      font-size: 0.9rem;
      color: #666;
    }

    .dark-mode .meta-item {
      color: #aaa;
    }

    .reading-controls-panel {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
      padding: 1rem;
      background-color: var(--white);
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }

    .dark-mode .reading-controls-panel {
      background-color: #252547;
    }

    .font-controls, .theme-controls {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .font-btn, .theme-btn {
      background: none;
      border: 1px solid #ddd;
      border-radius: 4px;
      padding: 5px 10px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .dark-mode .font-btn, .dark-mode .theme-btn {
      border-color: #444;
      color: var(--dark-text);
    }

    .font-btn:hover, .theme-btn:hover {
      background-color: var(--light-gray);
    }

    .dark-mode .font-btn:hover, .dark-mode .theme-btn:hover {
      background-color: #333;
    }

    .font-btn.active {
      background-color: var(--primary);
      color: var(--white);
      border-color: var(--primary);
    }

    .chapter-nav {
      display: flex;
      justify-content: space-between;
      margin-top: 2rem;
    }

    .conteudo {
      background: var(--white);
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
      min-height: 60vh;
    }

    .dark-mode .conteudo {
      background-color: #252547;
    }

    .book-content {
      font-size: 1.1rem;
      line-height: 1.8;
    }

    .book-content.small-font {
      font-size: 1rem;
    }

    .book-content.large-font {
      font-size: 1.3rem;
    }

    .book-content.xlarge-font {
      font-size: 1.5rem;
    }

    .verse {
      margin-bottom: 1.5rem;
    }

    .verse-number {
      font-weight: bold;
      color: var(--primary);
      margin-right: 5px;
    }

    .dark-mode .verse-number {
      color: var(--accent);
    }

    .progress-container {
      margin-top: 2rem;
      padding-top: 1rem;
      border-top: 1px solid #ddd;
    }

    .dark-mode .progress-container {
      border-color: #444;
    }

    .progress-bar {
      height: 8px;
      background-color: #e0e0e0;
      border-radius: 4px;
      margin-bottom: 10px;
      overflow: hidden;
    }

    .dark-mode .progress-bar {
      background-color: #333;
    }

    .progress {
      height: 100%;
      background-color: var(--primary);
      border-radius: 4px;
      width: 0%;
      transition: width 0.5s;
    }

    .progress-text {
      display: flex;
      justify-content: space-between;
      font-size: 0.9rem;
      color: #666;
    }

    .dark-mode .progress-text {
      color: #aaa;
    }

    .theme-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      font-size: 1.2rem;
      cursor: pointer;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      z-index: 1000;
    }

    @media (max-width: 768px) {
      .container {
        padding: 1rem;
      }
      
      .hero h2 {
        font-size: 2rem;
      }
      
      nav a {
        margin: 0 10px;
        font-size: 0.9rem;
      }
      
      .books-grid {
        grid-template-columns: 1fr;
      }
      
      .reading-controls-panel {
        flex-direction: column;
        gap: 15px;
        align-items: flex-start;
      }
      
      .book-meta-reading {
        flex-direction: column;
        align-items: center;
        gap: 5px;
      }
      
      .conteudo {
        padding: 1.5rem;
      }
    }
  </style>
</head>
<body>

  <!-- P√°gina Principal (Index) -->
  <div id="index-page">
    <header>
      <h1><span>üìñ</span> Virtual Books</h1>
      <p>Espalhando f√©, amor e sabedoria em cada p√°gina ‚úù</p>
    </header>

    <nav>
      <a href="#inicio">In√≠cio</a>
      <a href="#livros">Livros</a>
      <a href="#sobre">Sobre</a>
      <a href="#contato">Contato</a>
    </nav>

    <div class="container" id="inicio">
      <div class="hero">
        <h2>Bem-vindo ao Virtual Books!</h2>
        <p>Nosso prop√≥sito √© incentivar a leitura e compartilhar mensagens de f√©, amor e esperan√ßa. Aqui, cada livro √© uma nova chance de aprender e crescer espiritualmente. üíõ</p>
        <a href="#livros" class="btn btn-accent" style="margin-top: 1.5rem;">Explorar Livros</a>
      </div>
    </div>

    <div class="container" id="livros">
      <h2 class="section-title">üìö Livros em destaque</h2>

      <div class="search-section">
        <div class="search-box">
          <input type="text" id="searchInput" placeholder="üîç Buscar livro por nome..." aria-label="Buscar livro">
          <button class="btn" onclick="buscarLivro()">Buscar</button>
        </div>
        
        <div class="filters">
          <span>Filtrar por categoria:</span>
          <button class="filter-btn active" data-category="todos">Todos</button>
          <button class="filter-btn" data-category="biblia">B√≠blia</button>
          <button class="filter-btn" data-category="devocional">Devocional</button>
          <button class="filter-btn" data-category="inspiracao">Inspira√ß√£o</button>
          <button class="filter-btn" data-category="classico">Cl√°ssico</button>
        </div>
      </div>

      <div class="books-grid" id="booksContainer">
        <div class="book-card" data-category="biblia">
          <div class="book-meta">
            <span class="book-category">B√≠blia</span>
            <span>‚≠ê 5.0</span>
          </div>
          <h3>A B√≠blia Sagrada</h3>
          <p>O livro mais lido e inspirador de todos os tempos. Repleto de sabedoria e f√© para guiar sua vida espiritual.</p>
          <a class="btn btn-ler" href="#" data-livro="biblia">Ler agora</a>
        </div>

        <div class="book-card" data-category="classico">
          <div class="book-meta">
            <span class="book-category">Cl√°ssico</span>
            <span>‚≠ê 4.8</span>
          </div>
          <h3>O Peregrino</h3>
          <p>Uma jornada de f√© e perseveran√ßa em busca da salva√ß√£o. Um cl√°ssico da literatura crist√£ que inspira gera√ß√µes.</p>
          <a class="btn btn-ler" href="#" data-livro="peregrino">Ler agora</a>
        </div>

        <div class="book-card" data-category="devocional">
          <div class="book-meta">
            <span class="book-category">Devocional</span>
            <span>‚≠ê 4.7</span>
          </div>
          <h3>Mensagens de Esperan√ßa</h3>
          <p>Textos curtos e inspiradores para fortalecer sua f√© no dia a dia e renovar suas for√ßas espirituais.</p>
          <a class="btn btn-ler" href="#" data-livro="esperanca">Ler agora</a>
        </div>

        <div class="book-card" data-category="inspiracao">
          <div class="book-meta">
            <span class="book-category">Inspira√ß√£o</span>
            <span>‚≠ê 4.9</span>
          </div>
          <h3>Amor que Transforma</h3>
          <p>Hist√≥rias crist√£s que mostram o poder do perd√£o e da compaix√£o para transformar vidas e relacionamentos.</p>
          <a class="btn btn-ler" href="#" data-livro="amor">Ler agora</a>
        </div>
      </div>
    </div>

    <div class="container" id="sobre">
      <h2 class="section-title">üåü Sobre n√≥s</h2>
      <div class="about-grid">
        <div class="about-card">
          <h3>üìö Nossa Miss√£o</h3>
          <p>O Virtual Books nasceu com o prop√≥sito de levar leitura e f√© a todos. Nosso valor crist√£o √© o <strong>amor ao pr√≥ximo</strong>, e nosso prop√≥sito social √© promover o acesso gratuito ao conhecimento e √† inspira√ß√£o atrav√©s da leitura.</p>
        </div>
        <div class="about-card">
          <h3>üíù Nossos Valores</h3>
          <p>Acreditamos no poder transformador da Palavra de Deus e no valor da literatura crist√£ para edificar vidas, fortalecer fam√≠lias e construir comunidades mais solid√°rias.</p>
        </div>
        <div class="about-card">
          <h3>üåç Nosso Impacto</h3>
          <p>Desde nossa funda√ß√£o, j√° disponibilizamos mais de 50 obras crist√£s gratuitamente, alcan√ßando milhares de leitores em todo o Brasil e pa√≠ses de l√≠ngua portuguesa.</p>
        </div>
      </div>
    </div>

    <div class="container" id="contato">
      <h2 class="section-title">üì¨ Contato</h2>
      <p>Quer sugerir um livro, enviar uma mensagem ou fazer parte do nosso projeto? Entre em contato conosco:</p>
      
      <div class="contact-form">
        <div class="form-group">
          <label for="nome">Seu nome:</label>
          <input type="text" id="nome" placeholder="Digite seu nome">
        </div>
        <div class="form-group">
          <label for="email">Seu e-mail:</label>
          <input type="email" id="email" placeholder="Digite seu e-mail">
        </div>
        <div class="form-group">
          <label for="mensagem">Sua mensagem:</label>
          <textarea id="mensagem" placeholder="Digite sua mensagem..."></textarea>
        </div>
        <button class="btn" id="enviarMensagem">Enviar mensagem</button>
      </div>
      
      <p style="margin-top: 2rem;"><strong>Email:</strong> contato@virtualbooks.com</p>
      <p><strong>Telefone:</strong> (11) 99999-9999</p>
    </div>

    <footer>
      <p>¬© 2025 Virtual Books ‚Äî Ler com f√©, crescer com amor. ‚úù</p>
    </footer>
  </div>

  <!-- P√°gina de Leitura (Oculta inicialmente) -->
  <div id="reading-page" style="display: none;">
    <div class="reading-header">
      <a href="#" class="btn btn-voltar">
        <span>‚Üê</span> Voltar
      </a>
      <h1><span>üìñ</span> Virtual Books</h1>
      <div class="reading-controls">
        <button class="btn btn-primary" id="bookmarkBtn">
          <span>üîñ</span> Marcar
        </button>
      </div>
    </div>

    <div class="container">
      <div class="book-header">
        <h1 id="tituloLivro">Livro</h1>
        <div class="book-meta-reading">
          <div class="meta-item">
            <span>üìñ</span>
            <span id="bookCategory">Categoria</span>
          </div>
          <div class="meta-item">
            <span>‚è±</span>
            <span id="readingTime">Tempo de leitura</span>
          </div>
          <div class="meta-item">
            <span>‚≠ê</span>
            <span id="bookRating">Avalia√ß√£o</span>
          </div>
        </div>
      </div>

      <div class="reading-controls-panel">
        <div class="font-controls">
          <span>Tamanho:</span>
          <button class="font-btn active" data-size="normal">A</button>
          <button class="font-btn" data-size="large">A+</button>
          <button class="font-btn" data-size="xlarge">A++</button>
        </div>
        <div class="theme-controls">
          <button class="theme-btn" id="darkModeToggle">
            <span>üåô</span> Modo Escuro
          </button>
        </div>
      </div>

      <div class="conteudo">
        <div class="book-content" id="textoLivro">
          <p>Carregando o livro...</p>
        </div>

        <div class="chapter-nav">
          <button class="btn" id="prevChapter">
            <span>‚Üê</span> Cap√≠tulo Anterior
          </button>
          <button class="btn" id="nextChapter">
            Pr√≥ximo Cap√≠tulo <span>‚Üí</span>
          </button>
        </div>
      </div>

      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress" id="readingProgress"></div>
        </div>
        <div class="progress-text">
          <span>Progresso de leitura</span>
          <span id="progressPercent">0%</span>
        </div>
      </div>
    </div>
  </div>

  <button class="theme-toggle" id="globalDarkModeToggle">üåô</button>

  <script>
    // Dados dos livros
    const livros = {
      biblia: {
        titulo: "üìñ A B√≠blia Sagrada",
        categoria: "B√≠blia",
        tempoLeitura: "80 horas",
        avaliacao: "5.0",
        capitulos: [
          {
            titulo: "G√™nesis 1",
            conteudo: `
              <div class="verse">
                <span class="verse-number">1</span>
                No princ√≠pio, criou Deus os c√©us e a terra.
              </div>
              <div class="verse">
                <span class="verse-number">2</span>
                A terra era sem forma e vazia; trevas cobriam a face do abismo, e o Esp√≠rito de Deus se movia sobre a face das √°guas.
              </div>
              <div class="verse">
                <span class="verse-number">3</span>
                Disse Deus: "Haja luz", e houve luz.
              </div>
              <div class="verse">
                <span class="verse-number">4</span>
                Deus viu que a luz era boa, e separou a luz das trevas.
              </div>
              <div class="verse">
                <span class="verse-number">5</span>
                Deus chamou √† luz "dia" e √†s trevas chamou "noite". Passaram-se a tarde e a manh√£; esse foi o primeiro dia.
              </div>
              <p>A B√≠blia √© uma cole√ß√£o de livros sagrados que ensinam f√©, amor e esperan√ßa. Ela mostra como viver de forma s√°bia e com o cora√ß√£o voltado para Deus.</p>
            `
          },
          {
            titulo: "G√™nesis 2",
            conteudo: `
              <div class="verse">
                <span class="verse-number">1</span>
                Assim foram conclu√≠dos os c√©us e a terra, e tudo o que neles h√°.
              </div>
              <div class="verse">
                <span class="verse-number">2</span>
                No s√©timo dia, Deus j√° havia conclu√≠do a obra que realizara, e nesse dia descansou.
              </div>
              <div class="verse">
                <span class="verse-number">3</span>
                Aben√ßoou Deus o s√©timo dia e o santificou, porque nele descansou de toda a obra que realizara na cria√ß√£o.
              </div>
              <p>Este cap√≠tulo continua a narrativa da cria√ß√£o, destacando o descanso de Deus no s√©timo dia e a cria√ß√£o do homem e da mulher.</p>
            `
          }
        ]
      },
      peregrino: {
        titulo: "üö∂ O Peregrino",
        categoria: "Cl√°ssico Crist√£o",
        tempoLeitura: "5 horas",
        avaliacao: "4.8",
        capitulos: [
          {
            titulo: "O In√≠cio da Jornada",
            conteudo: `
              <p>Um homem deixa sua cidade em busca da salva√ß√£o, enfrentando desafios, tenta√ß√µes e aprendizados espirituais.</p>
              <p>Esta obra cl√°ssica de John Bunyan mostra a jornada da f√© e o poder da perseveran√ßa crist√£ atrav√©s da alegoria de um peregrino em dire√ß√£o √† Cidade Celestial.</p>
              <p>O personagem principal, Crist√£o, carrega um fardo pesado nas costas e busca se libertar dele. Em sua jornada, ele encontra diversos personagens que representam virtudes e v√≠cios, enfrenta perigos e recebe ajuda de companheiros fi√©is.</p>
            `
          },
          {
            titulo: "O Vale da Sombra da Morte",
            conteudo: `
              <p>O peregrino avan√ßa em sua jornada e chega a um vale escuro e perigoso, onde a f√© √© testada ao extremo.</p>
              <p>Neste vale, ele enfrenta seus maiores medos e tenta√ß√µes, mas descobre que mesmo nas horas mais sombrias, a luz da f√© pode gui√°-lo atrav√©s do perigo.</p>
              <p>"Ainda que eu ande pelo vale da sombra da morte, n√£o temerei mal algum, porque tu est√°s comigo." - Salmo 23:4</p>
            `
          }
        ]
      },
      esperanca: {
        titulo: "üíõ Mensagens de Esperan√ßa",
        categoria: "Devocional",
        tempoLeitura: "2 horas",
        avaliacao: "4.7",
        capitulos: [
          {
            titulo: "A Esperan√ßa que N√£o se Apaga",
            conteudo: `
              <p>Mesmo nos dias dif√≠ceis, Deus tem planos maiores. A esperan√ßa √© a luz que guia o cora√ß√£o nas horas de escurid√£o.</p>
              <p>"O choro pode durar uma noite, mas a alegria vem pela manh√£." (Salmos 30:5)</p>
              <p>A esperan√ßa crist√£ n√£o √© um simples otimismo, mas uma certeza baseada nas promessas de Deus. Ela nos sustenta nas prova√ß√µes e nos lembra que nosso sofrimento tempor√°rio est√° produzindo para n√≥s uma gl√≥ria eterna.</p>
            `
          }
        ]
      },
      amor: {
        titulo: "‚ù§ Amor que Transforma",
        categoria: "Inspira√ß√£o",
        tempoLeitura: "3 horas",
        avaliacao: "4.9",
        capitulos: [
          {
            titulo: "O Poder do Amor Divino",
            conteudo: `
              <p>Pequenos gestos de bondade podem mudar o mundo. Amar ao pr√≥ximo √© o maior exemplo deixado por Cristo.</p> 
              <p>"O amor √© paciente, √© bondoso, tudo cr√™, tudo espera e tudo suporta." (1 Cor√≠ntios 13:4-7)</p>
              <p>O amor divino √© transformador. Quando permitimos que esse amor flua atrav√©s de n√≥s, nos tornamos instrumentos de cura e reconcilia√ß√£o em um mundo fragmentado.</p>
              <p>Hist√≥rias reais mostram como o amor incondicional pode quebrar barreiras, restaurar relacionamentos e trazer significado √† exist√™ncia humana.</p>
            `
          }
        ]
      }
    };

    // Estado da aplica√ß√£o
    let livroAtual = null;
    let capituloAtual = 0;
    let bookmarks = JSON.parse(localStorage.getItem('virtualBooksBookmarks')) || {};

    // Elementos DOM
    const indexPage = document.getElementById('index-page');
    const readingPage = document.getElementById('reading-page');
    const btnLer = document.querySelectorAll('.btn-ler');
    const btnVoltar = document.querySelector('.btn-voltar');
    const filterBtns = document.querySelectorAll('.filter-btn');
    const globalDarkModeToggle = document.getElementById('globalDarkModeToggle');
    const enviarMensagemBtn = document.getElementById('enviarMensagem');

    // Elementos da p√°gina de leitura
    const tituloLivro = document.getElementById('tituloLivro');
    const textoLivro = document.getElementById('textoLivro');
    const bookCategory = document.getElementById('bookCategory');
    const readingTime = document.getElementById('readingTime');
    const bookRating = document.getElementById('bookRating');
    const readingProgress = document.getElementById('readingProgress');
    const progressPercent = document.getElementById('progressPercent');
    const darkModeToggle = document.getElementById('darkModeToggle');
    const prevChapterBtn = document.getElementById('prevChapter');
    const nextChapterBtn = document.getElementById('nextChapter');
    const bookmarkBtn = document.getElementById('bookmarkBtn');
    const fontButtons = document.querySelectorAll('.font-btn');

    // Inicializa√ß√£o
    function inicializar() {
      // Configurar eventos dos bot√µes "Ler agora"
      btnLer.forEach(btn => {
        btn.addEventListener('click', function(e) {
          e.preventDefault();
          const livro = this.getAttribute('data-livro');
          abrirLivro(livro);
        });
      });

      // Configurar evento do bot√£o "Voltar"
      btnVoltar.addEventListener('click', function(e) {
        e.preventDefault();
        voltarParaIndex();
      });

      // Configurar filtros
      filterBtns.forEach(btn => {
        btn.addEventListener('click', function() {
          const categoria = this.getAttribute('data-category');
          filtrarLivros(categoria);
          
          // Atualizar estado ativo dos bot√µes
          filterBtns.forEach(b => b.classList.remove('active'));
          this.classList.add('active');
        });
      });

      // Configurar modo escuro global
      globalDarkModeToggle.addEventListener('click', toggleDarkMode);

      // Configurar envio de formul√°rio
      if (enviarMensagemBtn) {
        enviarMensagemBtn.addEventListener('click', function(e) {
          e.preventDefault();
          alert('Mensagem enviada com sucesso! Entraremos em contato em breve.');
          document.getElementById('nome').value = '';
          document.getElementById('email').value = '';
          document.getElementById('mensagem').value = '';
        });
      }

      // Verificar modo escuro salvo
      if (localStorage.getItem('darkMode') === 'enabled') {
        document.body.classList.add('dark-mode');
        globalDarkModeToggle.textContent = '‚òÄ';
        if (darkModeToggle) {
          darkModeToggle.innerHTML = '<span>‚òÄ</span> Modo Claro';
        }
      }
    }

    function abrirLivro(livro) {
      if (livros[livro]) {
        livroAtual = livro;
        indexPage.style.display = 'none';
        readingPage.style.display = 'block';
        carregarLivro();
        atualizarProgresso();
        atualizarNavegacao();
        
        // Rolar para o topo
        window.scrollTo(0, 0);
      }
    }

    function voltarParaIndex() {
      readingPage.style.display = 'none';
      indexPage.style.display = 'block';
      
      // Salvar progresso antes de sair
      if (livroAtual) {
        salvarProgresso();
      }
    }

    function carregarLivro() {
      const dadosLivro = livros[livroAtual];
      
      tituloLivro.textContent = dadosLivro.titulo;
      bookCategory.textContent = dadosLivro.categoria;
      readingTime.textContent = dadosLivro.tempoLeitura;
      bookRating.textContent = dadosLivro.avaliacao;
      
      carregarCapitulo(capituloAtual);
      
      // Verificar se h√° bookmark para este livro
      if (bookmarks[livroAtual]) {
        bookmarkBtn.innerHTML = '<span>üîñ</span> Marcado';
        bookmarkBtn.style.backgroundColor = '#e6b412';
        bookmarkBtn.style.color = '#333';
      } else {
        bookmarkBtn.innerHTML = '<span>üîñ</span> Marcar';
        bookmarkBtn.style.backgroundColor = '';
        bookmarkBtn.style.color = '';
      }
    }

    function carregarCapitulo(indice) {
      const dadosLivro = livros[livroAtual];
      
      if (indice >= 0 && indice < dadosLivro.capitulos.length) {
        capituloAtual = indice;
        const capitulo = dadosLivro.capitulos[capituloAtual];
        
        textoLivro.innerHTML = `
          <h2>${capitulo.titulo}</h2>
          ${capitulo.conteudo}
        `;
        
        atualizarNavegacao();
        atualizarProgresso();
        
        // Salvar progresso
        salvarProgresso();
      }
    }

    function atualizarNavegacao() {
      const dadosLivro = livros[livroAtual];
      
      prevChapterBtn.disabled = capituloAtual === 0;
      nextChapterBtn.disabled = capituloAtual === dadosLivro.capitulos.length - 1;
    }

    function atualizarProgresso() {
      const dadosLivro = livros[livroAtual];
      const progresso = ((capituloAtual + 1) / dadosLivro.capitulos.length) * 100;
      
      readingProgress.style.width = ${progresso}%;
      progressPercent.textContent = ${Math.round(progresso)}%;
    }

    function salvarProgresso() {
      const progressoData = JSON.parse(localStorage.getItem('virtualBooksProgress')) || {};
      progressoData[livroAtual] = capituloAtual;
      localStorage.setItem('virtualBooksProgress', JSON.stringify(progressoData));
    }

    function aplicarTamanhoFonte(tamanho) {
      textoLivro.className = 'book-content';
      
      if (tamanho !== 'normal') {
        textoLivro.classList.add(${tamanho}-font);
      }
      
      localStorage.setItem('fontSize', tamanho);
    }

    function ativarBotaoFonte(tamanho) {
      fontButtons.forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('data-size') === tamanho) {
          btn.classList.add('active');
        }
      });
    }

    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
      
      if (document.body.classList.contains('dark-mode')) {
        localStorage.setItem('darkMode', 'enabled');
        globalDarkModeToggle.textContent = '‚òÄ';
        if (darkModeToggle) {
          darkModeToggle.innerHTML = '<span>‚òÄ</span> Modo Claro';
        }
      } else {
        localStorage.setItem('darkMode', 'disabled');
        globalDarkModeToggle.textContent = 'üåô';
        if (darkModeToggle) {
          darkModeToggle.innerHTML = '<span>üåô</span> Modo Escuro';
        }
      }
    }

    function buscarLivro() {
      const input = document.getElementById("searchInput").value.toLowerCase();
      const livros = document.getElementsByClassName("book-card");

      for (let i = 0; i < livros.length; i++) {
        const titulo = livros[i].getElementsByTagName("h3")[0].innerText.toLowerCase();
        if (titulo.includes(input)) {
          livros[i].style.display = "";
        } else {
          livros[i].style.display = "none";
        }
      }
    }

    function filtrarLivros(categoria) {
      const livros = document.getElementsByClassName("book-card");
      
      for (let i = 0; i < livros.length; i++) {
        const livroCategoria = livros[i].getAttribute("data-category");
        
        if (categoria === "todos" || livroCategoria === categoria) {
          livros[i].style.display = "";
        } else {
          livros[i].style.display = "none";
        }
      }
    }

    // Event Listeners para a p√°gina de leitura
    if (darkModeToggle) {
      darkModeToggle.addEventListener('click', toggleDarkMode);
    }

    if (prevChapterBtn) {
      prevChapterBtn.addEventListener('click', function() {
        if (capituloAtual > 0) {
          carregarCapitulo(capituloAtual - 1);
          window.scrollTo(0, 0);
        }
      });
    }

    if (nextChapterBtn) {
      nextChapterBtn.addEventListener('click', function() {
        const dadosLivro = livros[livroAtual];
        if (capituloAtual < dadosLivro.capitulos.length - 1) {
          carregarCapitulo(capituloAtual + 1);
          window.scrollTo(0, 0);
        }
      });
    }

    if (bookmarkBtn) {
      bookmarkBtn.addEventListener('click', function() {
        if (bookmarks[livroAtual]) {
          delete bookmarks[livroAtual];
          this.innerHTML = '<span>üîñ</span> Marcar';
          this.style.backgroundColor = '';
          this.style.color = '';
        } else {
          bookmarks[livroAtual] = {
            capitulo: capituloAtual,
            data: new Date().toISOString()
          };
          this.innerHTML = '<span>üîñ</span> Marcado';
          this.style.backgroundColor = '#e6b412';
          this.style.color = '#333';
        }
        
        localStorage.setItem('virtualBooksBookmarks', JSON.stringify(bookmarks));
      });
    }

    if (fontButtons) {
      fontButtons.forEach(btn => {
        btn.addEventListener('click', function() {
          const tamanho = this.getAttribute('data-size');
          aplicarTamanhoFonte(tamanho);
          ativarBotaoFonte(tamanho);
        });
      });
    }

    // Inicializar a aplica√ß√£o
    document.addEventListener('DOMContentLoaded', inicializar);
  </script>
</body>
</html>
